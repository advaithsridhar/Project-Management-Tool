(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5642],{85901:function(e,t,s){Promise.resolve().then(s.t.bind(s,65878,23)),Promise.resolve().then(s.t.bind(s,72972,23)),Promise.resolve().then(s.bind(s,24963)),Promise.resolve().then(s.bind(s,75961)),Promise.resolve().then(s.bind(s,42529)),Promise.resolve().then(s.bind(s,51251)),Promise.resolve().then(s.bind(s,92308)),Promise.resolve().then(s.bind(s,83173)),Promise.resolve().then(s.bind(s,38721)),Promise.resolve().then(s.bind(s,21286))},98728:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},27648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(72972),a=s.n(r)},24963:function(e,t,s){"use strict";s.d(t,{Navbar:function(){return I}});var r=s(57437),a=s(24677),n=s(99376);let l=(0,s(79205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var i=s(12381),c=s(2265),o=s(49027),d=s(20653),u=s(77712),m=s(93448);let x=o.fC,h=o.xz;o.x8;let j=o.h_,f=c.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.aV,{className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t})});f.displayName=o.aV.displayName;let p=(0,u.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v=c.forwardRef((e,t)=>{let{side:s="right",className:a,children:n,...l}=e;return(0,r.jsxs)(j,{children:[(0,r.jsx)(f,{}),(0,r.jsxs)(o.VY,{ref:t,className:(0,m.cn)(p({side:s}),a),...l,children:[(0,r.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(d.Pxu,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]}),n]})]})});v.displayName=o.VY.displayName,c.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.Dx,{ref:t,className:(0,m.cn)("text-lg font-semibold text-foreground",s),...a})}).displayName=o.Dx.displayName,c.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.dk,{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",s),...a})}).displayName=o.dk.displayName;var g=s(33145),y=s(27648),N=s(52764),b=s(75961),w=s(51251),k=s(42529);let z=()=>(0,r.jsxs)("aside",{className:"h-full bg-neutral-100 p-4 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(y.default,{href:"/",children:(0,r.jsx)(g.default,{src:"/logo.svg",alt:"logo",width:50,height:39})}),(0,r.jsx)("p",{className:"font-bold text-lg",children:"Task Forge"})]}),(0,r.jsx)(N.M,{className:"my-4"}),(0,r.jsx)(w.WorkspaceSwitcher,{}),(0,r.jsx)(N.M,{className:"my-4"}),(0,r.jsx)(b.Navigation,{}),(0,r.jsx)(N.M,{className:"my-4"}),(0,r.jsx)(k.Projects,{})]}),O=()=>{let[e,t]=(0,c.useState)(!1),s=(0,n.usePathname)();return(0,c.useEffect)(()=>{t(!1)},[s]),(0,r.jsxs)(x,{modal:!1,open:e,onOpenChange:t,children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsxs)(i.z,{variant:"secondary",className:"lg:hidden",children:[(0,r.jsx)(l,{className:"size-4 text-neutral-500"}),(0,r.jsx)("p",{className:"sr-only",children:"Menu"})]})}),(0,r.jsx)(v,{side:"left",className:"p-0",children:(0,r.jsx)(z,{})})]})},C={tasks:{title:"My Tasks",description:"View all of your tasks here."},projects:{title:"My Project",description:"View tasks of your project here."}},P={title:"Home",description:"Monitor all of your projects and tasks here."},I=()=>{let{title:e,description:t}=C[(0,n.usePathname)().split("/")[3]]||P;return(0,r.jsxs)("nav",{className:"pt-4 px-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-col hidden lg:flex",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:e}),(0,r.jsx)("p",{className:"text-muted-foreground",children:t})]}),(0,r.jsx)(O,{}),(0,r.jsx)(a.UserButton,{})]})}},75961:function(e,t,s){"use strict";s.d(t,{Navigation:function(){return m}});var r=s(57437),a=s(93448),n=s(98728);let l=(0,s(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var i=s(27648),c=s(85130),o=s(99376),d=s(99406);let u=[{label:"Home",href:"",icon:c.iB,activeIcon:c.Noz},{label:"My Tasks",href:"/tasks",icon:c.YL3,activeIcon:c.KJd},{label:"Settings",href:"/settings",icon:n.Z,activeIcon:n.Z},{label:"Members",href:"/members",icon:l,activeIcon:l}],m=()=>{let e=(0,d.m)(),t=(0,o.usePathname)();return(0,r.jsx)("ul",{className:"flex flex-col",children:u.map(s=>{let n="/workspaces/".concat(e).concat(s.href),l=t===n,c=l?s.activeIcon:s.icon;return(0,r.jsx)(i.default,{href:n,children:(0,r.jsxs)("div",{className:(0,a.cn)("flex items-center gap-2.5 p-2.5 rounded-md font-medium hover:text-primary transition text-neutral-500",l&&"bg-white shadow-sm hover:opacity-100 text-primary"),children:[(0,r.jsx)(c,{className:"size-5 text-neutral-500"}),s.label]})},s.href)})})}},42529:function(e,t,s){"use strict";s.d(t,{Projects:function(){return m}});var r=s(57437),a=s(27648),n=s(99376),l=s(84154),i=s(8853),c=s(99406),o=s(93448),d=s(34464),u=s(67034);let m=()=>{let e=(0,n.usePathname)(),{open:t}=(0,d.U)(),s=(0,c.m)(),{data:m}=(0,i.S)({workspaceId:s});return(0,r.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-xs uppercase text-neutral-500",children:"Projects"}),(0,r.jsx)(l.OlE,{onClick:t,className:"size-5 text-neutral-500 cursor-pointer hover:opacity-75 transition"})]}),null==m?void 0:m.documents.map(t=>{let n="/workspaces/".concat(s,"/projects/").concat(t.$id);return(0,r.jsx)(a.default,{href:n,children:(0,r.jsxs)("div",{className:(0,o.cn)("flex items-center gap-2.5 p-2.5 rounded-md hover:opacity-75 transition cursor-pointer text-neutral-500",e===n&&"bg-white shadow-sm hover:opacity-100 text-primary"),children:[(0,r.jsx)(u.t,{image:t.imageUrl,name:t.name}),(0,r.jsx)("span",{className:"truncate",children:t.name})]})},t.$id)})]})}},51251:function(e,t,s){"use strict";s.d(t,{WorkspaceSwitcher:function(){return f}});var r=s(57437),a=s(84154),n=s(16593),l=s(61609);let i=()=>(0,n.a)({queryKey:["workspaces"],queryFn:async()=>{let e=await l.L.api.workspaces.$get();if(!e.ok)throw Error("Failed to fetch workspaces.");let{data:t}=await e.json();return t}});var c=s(33145),o=s(93448),d=s(96246);let u=e=>{let{image:t,name:s,className:a}=e;return t?(0,r.jsx)("div",{className:(0,o.cn)("relative size-10 rounded-md overflow-hidden",a),children:(0,r.jsx)(c.default,{src:t,alt:s,fill:!0,className:"object-cover"})}):(0,r.jsx)(d.qE,{className:(0,o.cn)("size-10 rounded-md",a),children:(0,r.jsx)(d.Q5,{className:"text-white bg-blue-600 font-semibold text-lg uppercase rounded-md",children:s[0]})})};var m=s(99406),x=s(19202),h=s(15291),j=s(99376);let f=()=>{let e=(0,m.m)(),t=(0,j.useRouter)(),{data:s}=i(),{open:n}=(0,x.D)();return(0,r.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"text-xs uppercase text-neutral-500",children:"Workspaces"}),(0,r.jsx)(a.OlE,{onClick:n,className:"size-5 text-neutral-500 cursor-pointer hover:opacity-75 transition"})]}),(0,r.jsxs)(h.Ph,{onValueChange:e=>{t.push("/workspaces/".concat(e))},value:e,children:[(0,r.jsx)(h.i4,{className:"w-full bg-neutral-200 font-medium p-1",children:(0,r.jsx)(h.ki,{placeholder:"No workspace selected."})}),(0,r.jsx)(h.Bw,{children:null==s?void 0:s.documents.map(e=>(0,r.jsx)(h.Ql,{value:e.$id,children:(0,r.jsxs)("div",{className:"flex justify-start items-center gap-3 font-medium",children:[(0,r.jsx)(u,{name:e.name,image:e.imageUrl}),(0,r.jsx)("span",{className:"truncate",children:e.name})]})},e.$id))})]})]})}},24677:function(e,t,s){"use strict";s.d(t,{UserButton:function(){return p}});var r=s(57437),a=s(15001);let n=(0,s(79205).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var l=s(96246),i=s(32060),c=s(52764),o=s(14438),d=s(29827),u=s(21770),m=s(61609),x=s(99376);let h=()=>{let e=(0,x.useRouter)(),t=(0,d.NL)();return(0,u.D)({mutationFn:async()=>{let e=await m.L.api.auth.logout.$post();return await e.json()},onSuccess:()=>{o.A.success("Logged out."),e.refresh(),t.invalidateQueries()},onError:()=>{o.A.error("Failed to log out.")}})};var j=s(16593);let f=()=>(0,j.a)({queryKey:["current"],queryFn:async()=>{let e=await m.L.api.auth.current.$get();if(!e.ok)return null;let{data:t}=await e.json();return t}}),p=()=>{var e;let{data:t,isLoading:s}=f(),{mutate:o}=h();if(s)return(0,r.jsx)("div",{className:"size-10 rounded-full flex items-center justify-center bg-neutral-200 border border-neutral-300",children:(0,r.jsx)(a.Z,{className:"size-4 animate-spin text-muted-foreground"})});if(!t)return null;let{name:d,email:u}=t,m=d?d.charAt(0).toUpperCase():null!==(e=u.charAt(0).toUpperCase())&&void 0!==e?e:"U";return(0,r.jsxs)(i.h_,{modal:!1,children:[(0,r.jsx)(i.$F,{className:"outline-none relative",children:(0,r.jsx)(l.qE,{className:"size-10 hover:opacity-75 transition border border-neutral-300",children:(0,r.jsx)(l.Q5,{className:"bg-neutral-200 font-medium text-neutral-500 flex items-center justify-center",children:m})})}),(0,r.jsxs)(i.AW,{align:"end",side:"bottom",className:"w-60",sideOffset:10,children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 px-2.5 py-4",children:[(0,r.jsx)(l.qE,{className:"size-[52px] border border-neutral-300",children:(0,r.jsx)(l.Q5,{className:"bg-neutral-200 text-xl font-medium text-neutral-500 flex items-center justify-center",children:m})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:d||"User"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500",children:u})]})]}),(0,r.jsx)(c.M,{className:"mb-1"}),(0,r.jsxs)(i.Xi,{onClick:()=>o(),className:"h-10 flex items-center justify-center text-amber-700 font-medium cursor-pointer",children:[(0,r.jsx)(n,{className:"size-4 mr-2"}),"Log out"]})]})]})}},92308:function(e,t,s){"use strict";s.d(t,{CreateProjectModal:function(){return C}});var r=s(57437),a=s(85914),n=s(33145),l=s(53113),i=s(2265),c=s(13590),o=s(29501),d=s(99376),u=s(99406),m=s(93448),x=s(52764),h=s(96246),j=s(12381),f=s(79820),p=s(50935),v=s(40279),g=s(79485),y=s(14438),N=s(29827),b=s(21770),w=s(61609);let k=()=>{let e=(0,N.NL)();return(0,b.D)({mutationFn:async e=>{let{form:t}=e,s=await w.L.api.projects.$post({form:t});if(!s.ok)throw Error("Failed to create project.");return await s.json()},onSuccess:()=>{y.A.success("Project created."),e.invalidateQueries({queryKey:["projects"]})},onError:()=>{y.A.error("Failed to create project.")}})},z=e=>{let{onCancel:t}=e,s=(0,u.m)(),a=(0,d.useRouter)(),{mutate:y,isPending:N}=k(),b=(0,i.useRef)(null),w=(0,o.cI)({resolver:(0,c.F)(g.U.omit({workspaceId:!0})),defaultValues:{name:""}}),z=e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];s&&w.setValue("image",s)};return(0,r.jsxs)(f.Zb,{className:"w-full h-full border-none shadow-none",children:[(0,r.jsx)(f.Ol,{className:"flex p-7",children:(0,r.jsx)(f.ll,{className:"text-xl font-bold",children:"Create a new project"})}),(0,r.jsx)("div",{className:"px-7",children:(0,r.jsx)(x.M,{})}),(0,r.jsx)(f.aY,{className:"p-7",children:(0,r.jsx)(p.l0,{...w,children:(0,r.jsxs)("form",{onSubmit:w.handleSubmit(e=>{y({form:{...e,workspaceId:s,image:e.image instanceof File?e.image:""}},{onSuccess:e=>{let{data:t}=e;w.reset(),a.push("/workspaces/".concat(s,"/projects/").concat(t.$id))}})}),children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,r.jsx)(p.Wi,{control:w.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.xJ,{children:[(0,r.jsx)(p.lX,{children:"Project Name"}),(0,r.jsx)(p.NI,{children:(0,r.jsx)(v.I,{placeholder:"Enter project name",...t})}),(0,r.jsx)(p.zG,{})]})}}),(0,r.jsx)(p.Wi,{control:w.control,name:"image",render:e=>{let{field:t}=e;return(0,r.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-x-5",children:[t.value?(0,r.jsx)("div",{className:"size-[72px] relative rounded-md overflow-hidden",children:(0,r.jsx)(n.default,{src:t.value instanceof File?URL.createObjectURL(t.value):t.value,alt:"Logo",fill:!0,className:"object-cover"})}):(0,r.jsx)(h.qE,{className:"size-[72px]",children:(0,r.jsx)(h.Q5,{children:(0,r.jsx)(l.Z,{className:"size-[36px] text-neutral-400"})})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{className:"text-sm",children:"Project Icon"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"JPG, PNG, SVG or JPEG, max 1MB"}),(0,r.jsx)("input",{className:"hidden",accept:".jpg, .png, .jpeg, .svg",type:"file",ref:b,onChange:z,disabled:N}),t.value?(0,r.jsx)(j.z,{variant:"destructive",type:"button",disabled:N,size:"xs",className:"w-fit mt-2",onClick:()=>{t.onChange(null),b.current&&(b.current.value="")},children:"Remove Image"}):(0,r.jsx)(j.z,{variant:"teritary",type:"button",disabled:N,size:"xs",className:"w-fit mt-2",onClick:()=>{var e;return null===(e=b.current)||void 0===e?void 0:e.click()},children:"Upload Image"})]})]})})}})]}),(0,r.jsx)(x.M,{className:"py-7"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(j.z,{type:"button",size:"lg",variant:"secondary",onClick:t,disabled:N,className:(0,m.cn)(!t&&"invisible"),children:"Cancel"}),(0,r.jsx)(j.z,{type:"submit",size:"lg",disabled:N,children:"Create Project"})]})]})})})]})};var O=s(34464);let C=()=>{let{isOpen:e,setIsOpen:t,close:s}=(0,O.U)();return(0,r.jsx)(a.c,{open:e,onOpenChange:t,children:(0,r.jsx)(z,{onCancel:s})})}},34464:function(e,t,s){"use strict";s.d(t,{U:function(){return a}});var r=s(73020);let a=()=>{let[e,t]=(0,r.v1)("create-project",r.AE.withDefault(!1).withOptions({clearOnDefault:!0}));return{isOpen:e,open:()=>t(!0),close:()=>t(!1),setIsOpen:t}}},79485:function(e,t,s){"use strict";s.d(t,{H:function(){return n},U:function(){return a}});var r=s(31229);let a=r.z.object({name:r.z.string().trim().min(1,"Workspace name is required."),image:r.z.union([r.z.instanceof(File),r.z.string().transform(e=>""===e?void 0:e)]).optional(),workspaceId:r.z.string()}),n=r.z.object({name:r.z.string().trim().min(1,"Minimum 1 character required.").optional(),image:r.z.union([r.z.instanceof(File),r.z.string().transform(e=>""===e?void 0:e)]).optional()})},47492:function(e,t,s){"use strict";s.d(t,{M:function(){return n}});var r=s(16593),a=s(61609);let n=e=>{let{taskId:t}=e;return(0,r.a)({queryKey:["task",t],queryFn:async()=>{let e=await a.L.api.tasks[":taskId"].$get({param:{taskId:t}});if(!e.ok)throw Error("Failed to fetch task.");let{data:s}=await e.json();return s}})}},52463:function(e,t,s){"use strict";s.d(t,{k:function(){return i}});var r=s(29827),a=s(21770),n=s(14438),l=s(61609);let i=()=>{let e=(0,r.NL)();return(0,a.D)({mutationFn:async e=>{let{param:t,json:s}=e,r=await l.L.api.tasks[":taskId"].$patch({param:t,json:s});if(!r.ok)throw Error("Failed to update task.");return await r.json()},onSuccess:t=>{let{data:s}=t;n.A.success("Task updated."),e.invalidateQueries({queryKey:["project-analytics"]}),e.invalidateQueries({queryKey:["workspace-analytics"]}),e.invalidateQueries({queryKey:["tasks"]}),e.invalidateQueries({queryKey:["task",s.$id]})},onError:()=>{n.A.error("Failed to update task.")}})}},83173:function(e,t,s){"use strict";s.d(t,{CreateTaskModal:function(){return S}});var r=s(57437),a=s(85914),n=s(15001),l=s(79820),i=s(88221),c=s(8853),o=s(99406),d=s(13590),u=s(29501),m=s(16307),x=s(67034),h=s(93448),j=s(1959),f=s(52764),p=s(12381),v=s(50935),g=s(40279),y=s(15291),N=s(96271),b=s(14438),w=s(29827),k=s(21770),z=s(61609);let O=()=>{let e=(0,w.NL)();return(0,k.D)({mutationFn:async e=>{let{json:t}=e,s=await z.L.api.tasks.$post({json:t});if(!s.ok)throw Error("Failed to create task.");return await s.json()},onSuccess:()=>{b.A.success("Task created."),e.invalidateQueries({queryKey:["project-analytics"]}),e.invalidateQueries({queryKey:["workspace-analytics"]}),e.invalidateQueries({queryKey:["tasks"]})},onError:()=>{b.A.error("Failed to create task.")}})};var C=s(88534);let P=e=>{let{onCancel:t,projectOptions:s,memberOptions:a}=e,n=(0,o.m)(),{mutate:i,isPending:c}=O(),b=(0,u.cI)({resolver:(0,d.F)(N.E.omit({workspaceId:!0})),defaultValues:{workspaceId:n}});return(0,r.jsxs)(l.Zb,{className:"w-full h-full border-none shadow-none",children:[(0,r.jsx)(l.Ol,{className:"flex p-7",children:(0,r.jsx)(l.ll,{className:"text-xl font-bold",children:"Create a new task"})}),(0,r.jsx)("div",{className:"px-7",children:(0,r.jsx)(f.M,{})}),(0,r.jsx)(l.aY,{className:"p-7",children:(0,r.jsx)(v.l0,{...b,children:(0,r.jsxs)("form",{onSubmit:b.handleSubmit(e=>{i({json:{...e,workspaceId:n}},{onSuccess:()=>{b.reset(),null==t||t()}})}),children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,r.jsx)(v.Wi,{control:b.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Task Name"}),(0,r.jsx)(v.NI,{children:(0,r.jsx)(g.I,{placeholder:"Enter task name",...t})}),(0,r.jsx)(v.zG,{})]})}}),(0,r.jsx)(v.Wi,{control:b.control,name:"dueDate",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Due Date"}),(0,r.jsx)(v.NI,{children:(0,r.jsx)(j.M,{...t})}),(0,r.jsx)(v.zG,{})]})}}),(0,r.jsx)(v.Wi,{control:b.control,name:"assigneeId",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Assignee"}),(0,r.jsxs)(y.Ph,{defaultValue:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(v.NI,{children:(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select assignee"})})}),(0,r.jsx)(v.zG,{}),(0,r.jsx)(y.Bw,{children:a.map(e=>(0,r.jsx)(y.Ql,{value:e.id,children:(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(m.s,{className:"size-6",name:e.name}),e.name]})},e.id))})]})]})}}),(0,r.jsx)(v.Wi,{control:b.control,name:"status",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Assignee"}),(0,r.jsxs)(y.Ph,{defaultValue:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(v.NI,{children:(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select status"})})}),(0,r.jsx)(v.zG,{}),(0,r.jsxs)(y.Bw,{children:[(0,r.jsx)(y.Ql,{value:C.h.BACKLOG,children:"Backlog"}),(0,r.jsx)(y.Ql,{value:C.h.IN_PROGRESS,children:"In Progress"}),(0,r.jsx)(y.Ql,{value:C.h.IN_REVIEW,children:"In Review"}),(0,r.jsx)(y.Ql,{value:C.h.TODO,children:"Todo"}),(0,r.jsx)(y.Ql,{value:C.h.DONE,children:"Done"})]})]})]})}}),(0,r.jsx)(v.Wi,{control:b.control,name:"projectId",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Project"}),(0,r.jsxs)(y.Ph,{defaultValue:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(v.NI,{children:(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select project"})})}),(0,r.jsx)(v.zG,{}),(0,r.jsx)(y.Bw,{children:s.map(e=>(0,r.jsx)(y.Ql,{value:e.id,children:(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(x.t,{className:"size-6",name:e.name,image:e.imageUrl}),e.name]})},e.id))})]})]})}})]}),(0,r.jsx)(f.M,{className:"py-7"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(p.z,{type:"button",size:"lg",variant:"secondary",onClick:t,disabled:c,className:(0,h.cn)(!t&&"invisible"),children:"Cancel"}),(0,r.jsx)(p.z,{type:"submit",size:"lg",disabled:c,children:"Create Task"})]})]})})})]})},I=e=>{let{onCancel:t}=e,s=(0,o.m)(),{data:a,isLoading:d}=(0,c.S)({workspaceId:s}),{data:u,isLoading:m}=(0,i.Y)({workspaceId:s}),x=null==a?void 0:a.documents.map(e=>({id:e.$id,name:e.name,imageUrl:e.imageUrl})),h=null==u?void 0:u.documents.map(e=>({id:e.$id,name:e.name}));return d||m?(0,r.jsx)(l.Zb,{className:"w-full h-[714px] border-none shadow-none",children:(0,r.jsx)(l.aY,{className:"flex items-center justify-center h-full",children:(0,r.jsx)(n.Z,{className:"size-5 animate-spin text-muted-foreground"})})}):(0,r.jsx)(P,{onCancel:t,projectOptions:null!=x?x:[],memberOptions:null!=h?h:[]})};var E=s(94802);let S=()=>{let{isOpen:e,setIsOpen:t,close:s}=(0,E.x)();return(0,r.jsx)(a.c,{open:e,onOpenChange:t,children:(0,r.jsx)(I,{onCancel:s})})}},38721:function(e,t,s){"use strict";s.d(t,{EditTaskModal:function(){return P}});var r=s(57437),a=s(85914),n=s(15001),l=s(79820),i=s(88221),c=s(8853),o=s(99406),d=s(13590),u=s(29501),m=s(16307),x=s(67034),h=s(93448),j=s(1959),f=s(52764),p=s(12381),v=s(50935),g=s(40279),y=s(15291),N=s(96271),b=s(52463),w=s(88534);let k=e=>{let{onCancel:t,projectOptions:s,memberOptions:a,initialValues:n}=e,{mutate:i,isPending:c}=(0,b.k)(),o=(0,u.cI)({resolver:(0,d.F)(N.E.omit({workspaceId:!0,description:!0})),defaultValues:{...n,dueDate:n.dueDate?new Date(n.dueDate):void 0}});return(0,r.jsxs)(l.Zb,{className:"w-full h-full border-none shadow-none",children:[(0,r.jsx)(l.Ol,{className:"flex p-7",children:(0,r.jsx)(l.ll,{className:"text-xl font-bold",children:"Edit the task"})}),(0,r.jsx)("div",{className:"px-7",children:(0,r.jsx)(f.M,{})}),(0,r.jsx)(l.aY,{className:"p-7",children:(0,r.jsx)(v.l0,{...o,children:(0,r.jsxs)("form",{onSubmit:o.handleSubmit(e=>{i({json:e,param:{taskId:n.$id}},{onSuccess:()=>{o.reset(),null==t||t()}})}),children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,r.jsx)(v.Wi,{control:o.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Task Name"}),(0,r.jsx)(v.NI,{children:(0,r.jsx)(g.I,{placeholder:"Enter task name",...t})}),(0,r.jsx)(v.zG,{})]})}}),(0,r.jsx)(v.Wi,{control:o.control,name:"dueDate",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Due Date"}),(0,r.jsx)(v.NI,{children:(0,r.jsx)(j.M,{...t})}),(0,r.jsx)(v.zG,{})]})}}),(0,r.jsx)(v.Wi,{control:o.control,name:"assigneeId",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Assignee"}),(0,r.jsxs)(y.Ph,{defaultValue:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(v.NI,{children:(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select assignee"})})}),(0,r.jsx)(v.zG,{}),(0,r.jsx)(y.Bw,{children:a.map(e=>(0,r.jsx)(y.Ql,{value:e.id,children:(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(m.s,{className:"size-6",name:e.name}),e.name]})},e.id))})]})]})}}),(0,r.jsx)(v.Wi,{control:o.control,name:"status",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Assignee"}),(0,r.jsxs)(y.Ph,{defaultValue:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(v.NI,{children:(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select status"})})}),(0,r.jsx)(v.zG,{}),(0,r.jsxs)(y.Bw,{children:[(0,r.jsx)(y.Ql,{value:w.h.BACKLOG,children:"Backlog"}),(0,r.jsx)(y.Ql,{value:w.h.IN_PROGRESS,children:"In Progress"}),(0,r.jsx)(y.Ql,{value:w.h.IN_REVIEW,children:"In Review"}),(0,r.jsx)(y.Ql,{value:w.h.TODO,children:"Todo"}),(0,r.jsx)(y.Ql,{value:w.h.DONE,children:"Done"})]})]})]})}}),(0,r.jsx)(v.Wi,{control:o.control,name:"projectId",render:e=>{let{field:t}=e;return(0,r.jsxs)(v.xJ,{children:[(0,r.jsx)(v.lX,{children:"Project"}),(0,r.jsxs)(y.Ph,{defaultValue:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(v.NI,{children:(0,r.jsx)(y.i4,{children:(0,r.jsx)(y.ki,{placeholder:"Select project"})})}),(0,r.jsx)(v.zG,{}),(0,r.jsx)(y.Bw,{children:s.map(e=>(0,r.jsx)(y.Ql,{value:e.id,children:(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(x.t,{className:"size-6",name:e.name,image:e.imageUrl}),e.name]})},e.id))})]})]})}})]}),(0,r.jsx)(f.M,{className:"py-7"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(p.z,{type:"button",size:"lg",variant:"secondary",onClick:t,disabled:c,className:(0,h.cn)(!t&&"invisible"),children:"Cancel"}),(0,r.jsx)(p.z,{type:"submit",size:"lg",disabled:c,children:"Save Changes"})]})]})})})]})};var z=s(47492);let O=e=>{let{onCancel:t,id:s}=e,a=(0,o.m)(),{data:d,isLoading:u}=(0,z.M)({taskId:s}),{data:m,isLoading:x}=(0,c.S)({workspaceId:a}),{data:h,isLoading:j}=(0,i.Y)({workspaceId:a}),f=null==m?void 0:m.documents.map(e=>({id:e.$id,name:e.name,imageUrl:e.imageUrl})),p=null==h?void 0:h.documents.map(e=>({id:e.$id,name:e.name}));return x||j||u?(0,r.jsx)(l.Zb,{className:"w-full h-[714px] border-none shadow-none",children:(0,r.jsx)(l.aY,{className:"flex items-center justify-center h-full",children:(0,r.jsx)(n.Z,{className:"size-5 animate-spin text-muted-foreground"})})}):d?(0,r.jsx)(k,{onCancel:t,projectOptions:null!=f?f:[],memberOptions:null!=p?p:[],initialValues:d}):null};var C=s(13616);let P=()=>{let{taskId:e,close:t}=(0,C.D)();return(0,r.jsx)(a.c,{open:!!e,onOpenChange:t,children:e&&(0,r.jsx)(O,{id:e,onCancel:t})})}},96271:function(e,t,s){"use strict";s.d(t,{E:function(){return n}});var r=s(31229),a=s(88534);let n=r.z.object({name:r.z.string().trim().min(1,"Required"),status:r.z.nativeEnum(a.h,{required_error:"Required"}),workspaceId:r.z.string().trim().min(1,"Required"),projectId:r.z.string().trim().min(1,"Required"),dueDate:r.z.coerce.date(),assigneeId:r.z.string().trim().min(1,"Required"),description:r.z.string().optional()})},21286:function(e,t,s){"use strict";s.d(t,{CreateWorkspaceModal:function(){return i}});var r=s(57437),a=s(85914),n=s(49672),l=s(19202);let i=()=>{let{isOpen:e,setIsOpen:t,close:s}=(0,l.D)();return(0,r.jsx)(a.c,{open:e,onOpenChange:t,children:(0,r.jsx)(n.CreateWorkspaceForm,{onCancel:s})})}},19202:function(e,t,s){"use strict";s.d(t,{D:function(){return a}});var r=s(73020);let a=()=>{let[e,t]=(0,r.v1)("create-workspace",r.AE.withDefault(!1).withOptions({clearOnDefault:!0}));return{isOpen:e,open:()=>t(!0),close:()=>t(!1),setIsOpen:t}}},46231:function(e,t,s){"use strict";s.d(t,{w_:function(){return d}});var r=s(2265),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(a),l=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach(function(t){var r,a;r=t,a=s[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>r.createElement(u,i({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.createElement(t.tag,o({key:s},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var s,{attr:a,size:n,title:c}=e,d=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)s=n[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,l),u=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:s,style:o(o({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==n?r.createElement(n.Consumer,null,e=>t(e)):t(a)}}},function(e){e.O(0,[8310,522,6305,6157,3999,1752,2972,5878,7272,6810,1388,8658,85,1725,79,4249,3683,9672,2971,2117,1744],function(){return e(e.s=85901)}),_N_E=e.O()}]);